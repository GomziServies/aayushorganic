var mzOptions={};mzOptions={onZoomReady:function(){console.log("onReady",arguments[0])},onUpdate:function(){console.log("onUpdated",arguments[0],arguments[1],arguments[2])},onZoomIn:function(){console.log("onZoomIn",arguments[0])},onZoomOut:function(){console.log("onZoomOut",arguments[0])},onExpandOpen:function(){console.log("onExpandOpen",arguments[0])},onExpandClose:function(){console.log("onExpandClosed",arguments[0])}};var mzMobileOptions={};function isDefaultOption(e){return magicJS.$A(magicJS.$(e).byTag("option")).filter(function(e){return e.selected&&e.defaultSelected}).length>0}function toOptionValue(e){return/^(true|false)$/.test(e)?"true"===e:/^[0-9]{1,}$/i.test(e)?parseInt(e,10):e}function makeOptions(e){var o=null,n=!0,t=(Array(),{});return magicJS.$(magicJS.$A(magicJS.$(e).getElementsByTagName("INPUT")).concat(magicJS.$A(magicJS.$(e).getElementsByTagName("SELECT")))).forEach(function(e){o="checkbox"==e.type?e.checked.toString():e.value,n="checkbox"==e.type?o==e.defaultChecked.toString():"SELECT"==e.tagName?isDefaultOption(e):o==e.defaultValue,null===o||n||(t[e.name]=toOptionValue(o))}),t}function updateScriptCode(){var e="&lt;script&gt;\nvar mzOptions = ";e+=JSON.stringify(mzOptions,null,2).replace(/\"(\w+)\":/g,"$1:")+";",e+="\n&lt;/script&gt;",magicJS.$("app-code-sample-script").changeContent(e)}function updateInlineCode(){var e='&lt;a class="MagicZoom" data-options="';e+=JSON.stringify(mzOptions).replace(/\"(\w+)\":(?:\"([^"]+)\"|([^,}]+))(,)?/g,"$1: $2$3; ").replace(/\{([^{}]*)\}/,"$1").replace(/\s*$/,""),e+='"&gt;',magicJS.$("app-code-sample-inline").changeContent(e)}function applySettings(){MagicZoom.stop("Zoom-1"),mzOptions=makeOptions("params"),mzMobileOptions=makeOptions("mobile-params"),MagicZoom.start("Zoom-1"),updateScriptCode(),updateInlineCode();try{prettyPrint()}catch(e){}}function copyToClipboard(e){var o,n,t;if(isCopySupported()){(o=document.getElementById("code-to-copy")).innerHTML=document.getElementById(e).innerHTML,(n=document.createRange()).selectNode(o),window.getSelection().addRange(n);try{t=document.execCommand("copy")}catch(e){t=!1}window.getSelection().removeAllRanges(),t?new magicJS.Message("Settings code copied to clipboard.",3e3,document.querySelector(".app-code-holder"),"copy-msg"):disableCopy()}else disableCopy()}function disableCopy(){magicJS.$A(document.querySelectorAll(".cfg-btn-copy")).forEach(function(e){e.disabled=!0}),new magicJS.Message("Sorry, cannot copy settings code to clipboard. Please select and copy code manually.",3e3,document.querySelector(".app-code-holder"),"copy-msg copy-msg-failed")}function isCopySupported(){return!!(window.getSelection&&document.createRange&&document.queryCommandSupported)&&document.queryCommandSupported("copy")}